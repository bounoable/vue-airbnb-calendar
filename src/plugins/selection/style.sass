@mixin declare-colors($state, $bg: null, $border: null, $text: null)
  @if $bg != null
    --dp-sel-color-#{$state}-background: #{$bg}
  
  @if $border != null
    --dp-sel-color-#{$state}-border: #{$border}
  
  @if $text != null
    --dp-sel-color-#{$state}-text: #{$text}

@mixin apply-colors($state)
  background-color: var(--dp-sel-color-#{$state}-background, var(--dp-sel-color-base-background, white))
  border-color: var(--dp-sel-color-#{$state}-border, var(--dp-sel-color-base-border, black))

  .AirbnbCalendarItem__day
    color: var(--dp-sel-color-#{$state}-text)

\:root
  --dp-sel-color-base-background: #ffffff
  --dp-sel-color-base-border: #e2e8f0
  --dp-sel-color-base-text: #4a5568

  @include declare-colors(unselectable, #ffffff, null, #a0aec0)
  @include declare-colors(within-selection, #f7fafc, null, null)
  @include declare-colors(selected, #edf2f7, #cbd5e0, null)
  @include declare-colors(highlighted, #edf2f7, #cbd5e0, null)
  
.AirbnbCalendarItem
  @apply relative
  @include apply-colors(base)

  &.is-selectable
    @apply cursor-pointer
    @include apply-colors(selectable)
  
  &.is-unselectable
    @include apply-colors(unselectable)

  &.is-highlighted
    @apply z-10
    @include apply-colors(highlighted)

  &.is-within-selection,
  &.is-hovered
    @apply z-20
    @include apply-colors(within-selection)

    &.is-unselectable
      .AirbnbCalendarItem__day
        color: var(--dp-sel-color-unselectable-text)
  
  &.is-within-selection.is-hovered
    @apply z-40
    @include apply-colors(selected)

  &.is-selected
    @apply z-30
    @include apply-colors(selected)
